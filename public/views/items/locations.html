<div ng-controller="locationCtrl">
<div class="animated fadeIn">
	<div class="row">
		<div class="col-lg-12">
			<div class="card">
				<div class="card-header">
					<i class="fa fa-align-justify"></i> List locations...
					<button class="btn btn-outline-primary btn-sm float-right"  data-toggle="modal" data-target="#newLocationModal">New</button>			
				</div>				
				<div class="card-block">
					<div class="bg-info clearfix">
						<form>
							<input type="text" ng-model="searchLocations" class="form-control" placeholder="Type search text here...">
						</form>
					</div>
						<br>
					<table class="table table-responsive table-inverse table-striped">
						<thead>
							<tr>
								<th ng-click="sort('location_name ')">Name</th>
								<th ng-click="sort('location_sub')">Sub</th>
								<th><center><i class="icon-wrench"></i></center></th>
							</tr>
						</thead>
						<tbody>
							 <tr dir-paginate="l in locations | orderBy:sortBy:reverse | filter:searchLocations | productsPerPage:10">
								
								<td>{{ l.location_name }}</td>
								<td>{{ l.location_sub }}</td>
								<td class="col-1"><center>
									<button class="btn btn-outline-info btn-sm" ng-click="load(l.id)">
										<i class="fa fa-pencil"></i>
									</button></center>
								</td>
							</tr>
			
						</tbody>
					</table>
					<dir-pagination-controls max-size="5" direction-links="true" boundary-links="false" ></dir-pagination-controls>
				</div>
			</div>
		</div>
	</div>
</div>

<div class="modal fade" tabindex="-1" role="dialog" id="updateLocationModal" aria-labelledby="myModalLabel" aria-hidden="true">
<div class="modal-dialog" role="document">
    <div class="modal-content">
        <form name="validForm" ng-submit="updateLocation(validForm.$valid)" novalidate>
			<div class="modal-header">
				<h5 class="modal-title" id="exampleModalLongTitle">Edit Locations</h5>
				<button type="button" class="close" data-dismiss="modal" aria-label="Close">
					<span aria-hidden="true">&times;</span>
				</button>
			</div>
			<div class="modal-body">
				<input type="hidden" ng-model="locationId">
                    <div class="form-group row" ng-class="{'has-danger':validForm.locationName.$invalid && validForm.locationName.$dirty || submitted && validForm.locationName.$invalid}">
						<label class="col-2 col-form-label" for="locationName">Name</label>
                        <div class="col-10">
                            <input ng-model="locationName" name="locationName" type="text" placeholder="Enter location name"class="form-control" required>
                            <small class="form-control-feedback" ng-show="validForm.locationName.$invalid && validForm.locationName.$dirty || submitted && validForm.locationName.$invalid">Required.</small>
                        </div>
                    </div>
                    <div class="form-group row" ng-class="{'has-danger':validForm.locationSub.$invalid && validForm.locationSub.$dirty || submitted && validForm.locationSub.$invalid}">
						<label class="col-2 col-form-label" for="productName">Sub</label>
                        <div class="col-10">
                            <input ng-model="locationSub" name="locationSub" type="text" placeholder="Enter sub location" class="form-control" required>
                            <small class="form-control-feedback" ng-show="validForm.locationSub.$invalid && validForm.locationSub.$dirty || submitted && validForm.locationSub.$invalid">Required.</small>
                        </div>
                    </div>
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-outline-danger" ng-click="closeEdit()"><i class="fa fa-ban "></i> Close</button>
				<button type="submit" class="btn btn-outline-success"><i class="fa fa-dot-circle-o "></i> Save</button>
			</div>
        </form>
        </div>
    </div>
</div>


<div class="modal fade" id="newLocationModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
<div class="modal-dialog" role="document">
    <div class="modal-content">
		<form name="validForm" ng-submit="createLocation(validForm.$valid)" novalidate>
			<div class="modal-header">
				<h5 class="modal-title">New Locations</h5>
				<button type="button" class="close" data-dismiss="modal" aria-label="Close">
					<span aria-hidden="true">&times;</span>
				</button>
			</div>
			<div class="modal-body">
                    <div class="form-group row" ng-class="{'has-danger':validForm.locationName.$invalid && validForm.locationName.$dirty || submitted && validForm.locationName.$invalid}">
						<label class="col-2 col-form-label" for="locationName">Name</label>
                        <div class="col-10">
                            <input ng-model="locationName" name="locationName" type="text" placeholder="Enter location name"class="form-control" required>
                            <small class="form-control-feedback" ng-show="validForm.locationName.$invalid && validForm.locationName.$dirty || submitted && validForm.locationName.$invalid">Required.</small>
                        </div>
                    </div>
                    <div class="form-group row" ng-class="{'has-danger':validForm.locationSub.$invalid && validForm.locationSub.$dirty || submitted && validForm.locationSub.$invalid}">
						<label class="col-2 col-form-label" for="productName">Sub</label>
                        <div class="col-10">
                            <input ng-model="locationSub" name="locationSub" type="text" placeholder="Enter sub location" class="form-control" required>
                            <small class="form-control-feedback" ng-show="validForm.locationSub.$invalid && validForm.locationSub.$dirty || submitted && validForm.locationSub.$invalid">Required.</small>
                        </div>
                    </div>
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-outline-danger" ng-click="closeNew()"><i class="fa fa-ban "></i> Close</button>
				<button ng-click="create()" class="btn btn-outline-success"><i class="fa fa-dot-circle-o "></i> Save</button>
			</div>
		</form>	
		</div>
    </div>
</div>

</div>

